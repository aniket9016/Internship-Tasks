@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "WhatsApp-style Chat";
}

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<link href="~/css/chat.css" rel="stylesheet" />

<div class="chat-container">
    <div class="chat-header">
        <i class="fab fa-whatsapp"></i> WhatsApp Chat
    </div>

    <div class="messages" id="messagesList"></div>

    <div class="chat-input-container">
        <input id="userInput" class="form-control rounded-pill shadow-sm" placeholder="Your name" maxlength="20" />
        <input id="messageInput" class="form-control rounded-pill shadow-sm" placeholder="Type a message" autocomplete="off" maxlength="200" />
        <button id="emojiButton" title="Add emoji"><i class="fa fa-smile text-warning"></i></button>
        <button id="sendButton" title="Send message"><i class="fa fa-paper-plane text-success"></i></button>
    </div>
</div>

<audio id="notificationSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3" preload="auto"></audio>
<emoji-picker id="emojiPicker" style="position: absolute; bottom: 90px; right: 70px; display: none;"></emoji-picker>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.5/signalr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emoji-picker-element@1.6.2/index.js" type="module"></script>
    <script src="~/js/chat.js"></script>
}
